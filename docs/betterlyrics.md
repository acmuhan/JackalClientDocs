# 更好的歌词 BetterLyrics 说明

> 来源：[https://www.yuque.com/wormwaker/tkpgqw/spwhbekbeycybdxw?singleDoc](https://www.yuque.com/wormwaker/tkpgqw/spwhbekbeycybdxw?singleDoc)

## 准备阶段

### 第一步：选择捕获模式

**新版本（>=0.8c）推荐使用 Hook Rendering 模式**：
- 挂钩渲染，只对网易云音乐有效，100%准确
- 会用到注入技术
- 注入前必须打开网易云的桌面歌词窗口，否则无法更新歌词

**如果注入失败，使用 OCR 模式**：
- 需要安装 TesseractOCR
- 识别准确率可能受环境影响

### 第二步：安装 OCR 依赖（仅 OCR 模式需要）

**操作步骤**：
1. 在群文件找到 tesseractocr 的安装程序，打开并安装
2. 打开 JackalClient GUI
3. 按 Ctrl+F 或者点击上面的“搜索”选项卡
4. 搜索 "tess" 找到 "TesseractOCR" 模块
5. 右键点击该模块，打开配置
6. 找到“可执行文件路径”选项，点击它
7. 按 Ctrl+O 弹出文件选择框
8. 找到你刚刚安装的 tesseract.exe 文件，点击确认

**安装语言模型**：
1. 在群文件找到 chi_sim.traineddata（简体中文模型文件）
2. 将其复制到 tesseract 安装路径的 tessdata 文件夹下
3. 如果你想识别其他语言，需要下载并安装对应的模型文件

## 核心操作

### 操作一：使用 Hook Rendering 模式（推荐）

**操作步骤**：
1. 打开网易云音乐
2. 打开桌面歌词窗口，并放在合适的位置
3. 播放一首带歌词的音乐
4. 打开 JackalClient GUI
5. 找到 "BetterLyrics" 模块
6. 右键点击该模块，打开配置
7. 将“基础模式”设置为 "Hook Rendering"
8. 点击模块名称左侧的开关按钮，启用模块
9. 观察歌词是否正常显示

### 操作二：使用 OCR 模式

**操作步骤**：
1. 确保已安装 TesseractOCR 和相应语言模型
2. 打开网易云音乐
3. 打开桌面歌词窗口，并放在合适的位置
4. 播放一首带歌词的音乐
5. 打开 JackalClient GUI
6. 找到 "BetterLyrics" 模块
7. 右键点击该模块，打开配置
8. 将“基础模式”设置为 "OCR"
9. 点击模块名称左侧的开关按钮，启用模块
10. 观察歌词是否正常显示

### 操作三：调整展示模式

**操作步骤**：
1. 右键点击 "BetterLyrics" 模块，打开配置
2. 找到 "Display Mode"（展示模式）选项
3. 从下拉菜单中选择你喜欢的展示模式：
   - 通知
   - 弹幕
   - 标题
   - 花式文字
   - 灵动岛
   - 对话框
4. 点击 "保存" 按钮
5. 观察歌词展示效果

## 运行与测试

### 测试步骤

1. 打开网易云音乐，播放一首带歌词的音乐
2. 启用 BetterLyrics 模块
3. 观察歌词是否正确显示
4. 切换歌曲，测试歌词是否自动更新
5. 调整展示模式，测试不同效果

### 常见问题排查

**问题一：Hook Rendering 模式无效果**

**操作步骤**：
1. 重新打开桌面歌词窗口
2. 解锁并拖动桌面歌词窗口
3. 切换歌曲
4. 重新打开 BetterLyrics 模块
5. 检查网易云音乐是否为 64 位版本

**问题二：OCR 模式报错**

**错误信息**：找不到 TesseractOCR 可执行文件
**解决方案**：重新选择 tesseract.exe 文件路径

**错误信息**：OCR Failed
**解决方案**：安装相应的语言模型文件

**问题三：语言识别错误**

**操作步骤**：
1. 右键点击 "BetterLyrics" 模块，打开配置
2. 找到 "Language" 选项
3. 根据需要选择合适的语言识别方式：
   - 由AI决定
   - 歌名推断
   - 指定语言
4. 点击 "保存" 按钮

**问题四：非网易云音乐识别**

**操作步骤**：
1. 右键点击 "BetterLyrics" 模块，打开配置
2. 找到 "播放器样式" 选项，改成你的播放器样式
3. 如果没有对应样式，选择 "自定义"
4. 修改 "桌面歌词窗口的类名" 和 "标题" 选项
5. 类名和标题的获取方法：
   - 使用目标显示模块
   - 或在命令行输入 `/here`、`/fore`、`/windows` 等命令

## 进阶建议

1. **性能优化**：调整冷却时间，平衡识别频率和系统资源占用
2. **展示效果**：根据个人喜好调整展示模式和相关配置
3. **多语言支持**：安装多种语言模型，提高识别准确率
4. **位置调整**：如果歌词显示位置不理想，调整 Y Offset 纵坐标偏移

---

现在，你已经掌握了 BetterLyrics 模块的使用方法。通过选择合适的捕获模式和调整配置，你可以获得更好的歌词显示效果。快去尝试构建你的专属歌词展示方案吧！
